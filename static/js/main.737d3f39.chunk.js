(this["webpackJsonpmortgage-calculator-web"]=this["webpackJsonpmortgage-calculator-web"]||[]).push([[0],{31:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),l=n(4),o=n(5),s=n(7),c=n(6),u=n(8),m=(n(37),n(24)),p=n.n(m),h=n(10),d=n(11),f=n(2),b=n(3);function y(){var e=Object(f.a)(["\n  border-collapse: collapse;\n\n  tr {\n    padding: 5px 0;\n  }\n\n  td {\n    text-align: center;\n    padding: 5px 0;\n  }\n\n  td.monthlyPaymentsCellBlue {\n    background-color: #a7e1fc;\n  }\n\n  th {\n    padding: 10px;\n  }\n"]);return y=function(){return e},e}function g(){var e=Object(f.a)(["\n  flex-grow: 1;\n  flex-shrink: 0;\n  max-height: 768px;\n  overflow-y: scroll;\n  padding: 20px;\n"]);return g=function(){return e},e}function x(){var e=Object(f.a)(["\n  font-size: 10px;\n  padding: 10px;\n"]);return x=function(){return e},e}function v(){var e=Object(f.a)(["\n  align-items: flex-end;\n  display: flex;\n  padding: 10px 0;\n\n  fieldset {\n    margin-top: 0;\n  }\n\n  fieldset + fieldset {\n    margin-left: 10px;\n\n    @media (max-width: 640px) {\n      margin-left: 0;\n      margin-top: 10px;\n    }\n  }\n\n  @media (max-width: 640px) {\n    align-items: flex-start;\n    flex-direction: column;\n  }\n\n  .month {\n    width: 60px;\n  }\n\n  .amount {\n    width: 126px;\n  }\n"]);return v=function(){return e},e}function E(){var e=Object(f.a)(["\n  align-items: flex-end;\n  display: flex;\n  padding: 10px 0;\n\n  fieldset {\n    margin-top: 0;\n  }\n\n  fieldset + fieldset {\n    margin-left: 10px;\n\n    @media (max-width: 640px) {\n      margin-left: 0;\n      margin-top: 10px;\n    }\n  }\n\n  @media (max-width: 640px) {\n    align-items: flex-start;\n    flex-direction: column;\n  }\n\n  .debtPercentage {\n    width: 98px;\n  }\n\n  .interest {\n    width: 60px;\n  }\n"]);return E=function(){return e},e}function j(){var e=Object(f.a)(["\n  + fieldset {\n    margin-top: 20px;\n  }\n\n  label {\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(f.a)(["\n  + form {\n    margin-top: 40px;\n  }\n\n  button {\n    margin-top: 14px;\n    width: 100%;\n  }\n\n  .delete {\n    width: 34px;\n  }\n\n  .calculate {\n    padding: 10px 0;\n    marginTop: 30px;\n    width: 246px;\n  }\n\n"]);return O=function(){return e},e}var C=b.b.form(O()),w=b.b.fieldset(j()),k=b.b.div(E()),R=b.b.div(v()),T=b.b.span(x()),P=b.b.div(g()),M=b.b.table(y()),F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).interest=Object(a.createRef)(),n.debt=Object(a.createRef)(),n.handleChange=function(){var e=n.props,t=e.id,a=e.onChange,r={interest:n.interest.current.value,debt:n.debt.current.value};a&&a({id:t,currentValues:r})},n.handleDelete=function(){var e=n.props,t=e.id,a=e.onDelete;a&&a(t)},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.interest,n=e.debt,a=e.showDeleteButton;return r.a.createElement(k,null,r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"interestField"},"Interest:"),r.a.createElement("input",{className:"interest",value:t,size:"5",id:"interestField",type:"number",step:"0.1",onChange:this.handleChange,ref:this.interest}),r.a.createElement(T,null,"%")),r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"debt"},"Debt Percentage:"),r.a.createElement("input",{className:"debtPercentage",value:n,id:"debt",type:"number",step:"1",onChange:this.handleChange,ref:this.debt}),r.a.createElement(T,null,"%")),r.a.createElement("div",{style:{width:"35px"}},a&&r.a.createElement("button",{className:"delete",type:"button",onClick:this.handleDelete},"X")))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={interestTiers:[{id:0,interest:2.5,debt:101}]},n.handleInterestChange=function(e){var t=e.id,a=e.currentValues,r=n.state.interestTiers;r[t]=Object(d.a)({},r[t],{},a),n.setState({interestTiers:r}),n.updateMainState({interestTiers:r})},n.handleAddTier=function(){var e=n.state.interestTiers,t=[].concat(Object(h.a)(e),[{id:e.length,interest:0,debt:0}]);n.setState({interestTiers:t}),n.updateMainState({interestTiers:t})},n.handleDeleteTier=function(e){var t=n.state.interestTiers;1!==t.length&&(t.splice(e,1),n.setState({interestTiers:t}))},n.updateMainState=function(e){var t=e.interestTiers,a=n.props.onChange;a&&a({interestTiers:t})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.interestTiers,n=t.length>1;return r.a.createElement("div",{style:{marginTop:"20px"}},t.map((function(t,a){return r.a.createElement(F,{id:a,interest:t.interest,debt:t.debt,onChange:e.handleInterestChange,onDelete:e.handleDeleteTier,key:"tier-input-".concat(a),showDeleteButton:n})})),r.a.createElement("button",{style:{width:"200px"},type:"button",onClick:this.handleAddTier},"Add tier"))}}]),t}(a.Component),A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).month=Object(a.createRef)(),n.amount=Object(a.createRef)(),n.handleChange=function(){var e=n.props,t=e.id,a=e.onChange,r={month:n.month.current.value,amount:n.amount.current.value};a&&a({id:t,currentValues:r})},n.handleDelete=function(){var e=n.props,t=e.id,a=e.onDelete;a&&a(t)},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.month,n=e.amount;return r.a.createElement(R,null,r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"monthField"},"Month:"),r.a.createElement("input",{className:"month",value:t,size:"4",id:"monthField",type:"number",step:"1",onChange:this.handleChange,ref:this.month})),r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"amountFiled"},"Amount:"),r.a.createElement("input",{className:"amount",value:n,id:"amount",type:"number",step:"1",onChange:this.handleChange,ref:this.amount}),r.a.createElement(T,null,"\u20ac")),r.a.createElement("button",{className:"delete",type:"button",onClick:this.handleDelete},"X"))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={extraRepayments:[]},n.handleExtraRepaymentsChange=function(e){var t=e.id,a=e.currentValues,r=n.state.extraRepayments;r[t]=Object(d.a)({},r[t],{},a),n.setState({extraRepayments:r}),n.updateMainState({extraRepayments:r})},n.handleAddExtraRepayment=function(){var e=n.state.extraRepayments,t=[].concat(Object(h.a)(e),[{id:e.length,month:0,amount:0}]);n.setState({extraRepayments:t}),n.updateMainState({extraRepayments:t})},n.handleDeleteExtraRepayment=function(e){var t=n.state.extraRepayments;0!==t.length&&(t.splice(e,1),n.setState({extraRepayments:t}))},n.updateMainState=function(e){var t=e.extraRepayments,a=n.props.onChange;a&&a({extraRepayments:t})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.extraRepayments;return r.a.createElement("div",null,t.map((function(t,n){return r.a.createElement(A,{id:n,month:t.month,amount:t.amount,onChange:e.handleExtraRepaymentsChange,onDelete:e.handleDeleteExtraRepayment,key:"repayment-input-".concat(n)})})),r.a.createElement("button",{style:{width:"200px"},type:"button",onClick:this.handleAddExtraRepayment},"Add Extra Repayment"))}}]),t}(a.Component),N=n(27),D=n.n(N),V={"Content-Type":"application/json",Accept:"application/json"},z=function(e,t,n,a){D.a.post("https://secret-journey-21988.herokuapp.com/monthly-payments",e,{headers:V}).then((function(e){t({monthlyPayments:e.data}),a()})).catch((function(e){n({errorMessage:e.response.data.errorMessage}),a()}))},L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).initialPrincipal=Object(a.createRef)(),n.marketValue=Object(a.createRef)(),n.months=Object(a.createRef)(),n.incomeTax=Object(a.createRef)(),n.state={interestTiers:[{id:0,interest:2.5,debt:101}],extraRepayments:[]},n.calculateMonthlyPayments=function(e){if(e.preventDefault(),n.validateInterestTiers()){var t=parseInt(n.initialPrincipal.current.value,10),a=parseInt(n.marketValue.current.value,10),r=parseInt(n.months.current.value,10),i=parseInt(n.incomeTax.current.value,10),l=n.props,o=l.onComputedResult,s=l.onLoadingFinish,c=l.onErrorMessage,u=l.onApiCall,m={initialPrincipal:t,marketValue:a,months:r,incomeTax:i,interestTiers:n.processInterestTiers(),repayments:n.processExtraRepayments()};u(),z(m,o,c,s)}else console.log("Please fill the required fields!")},n.validateInterestTiers=function(){return 0!==n.state.interestTiers.length||(console.log("At least one interest tier required!"),!1)},n.processInterestTiers=function(){return n.state.interestTiers.map((function(e){return{interest:Number(e.interest),percentage:Number(e.debt)}}))},n.processExtraRepayments=function(){return n.state.extraRepayments.map((function(e){return{month:Number(e.month),amount:Number(e.amount)}}))},n.preventInputSubmit=function(e){if(13===e.keyCode||13===e.which)return!1},n.handleInterestTierChange=function(e){var t=e.interestTiers;n.setState({interestTiers:t})},n.handleExtraRepaymentsChange=function(e){var t=e.extraRepayments;n.setState({extraRepayments:t})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null,r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"initialPrincipalField"},"Start Principal:"),r.a.createElement("input",{id:"initialPrincipalField",ref:this.initialPrincipal,type:"number",step:"500",defaultValue:"200000",onKeyPress:this.preventInputSubmit}),r.a.createElement(T,null,"EUR")),r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"marketValueField"},"Market Value:"),r.a.createElement("input",{id:"marketValueField",ref:this.marketValue,type:"number",step:"500",defaultValue:"200000",onKeyPress:this.preventInputSubmit}),r.a.createElement(T,null,"EUR")),r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"termField"},"Term:"),r.a.createElement("input",{id:"termField",ref:this.months,type:"number",step:"12",defaultValue:"360",onKeyPress:this.preventInputSubmit}),r.a.createElement(T,null,"Months")),r.a.createElement(w,null,r.a.createElement("label",{htmlFor:"incomeTaxField"},"Income Tax:"),r.a.createElement("input",{id:"incomeTaxField",ref:this.incomeTax,type:"number",step:"1",defaultValue:"40",onKeyPress:this.preventInputSubmit}),r.a.createElement(T,null,"%")),r.a.createElement(I,{onChange:this.handleInterestTierChange}),r.a.createElement(S,{onChange:this.handleExtraRepaymentsChange}),r.a.createElement("button",{className:"calculate",type:"button",onClick:this.calculateMonthlyPayments},"Calculate"))}}]),t}(a.Component),G=n(28),B=function(e){var t=e.cellType,n=e.value,a=e.suffix;return r.a.createElement("td",{className:t},n," ",a)},K={month:"",repayment:"\u20ac",interestGrossAmount:"\u20ac",interestNetAmount:"\u20ac",interestPercentage:"%",principal:"\u20ac",totalGross:"\u20ac",totalNet:"\u20ac"},q=function(e){var t=e.index,n=e.payment;return r.a.createElement("tr",null,Object.entries(n).map((function(e){var n=Object(G.a)(e,2),a=n[0],i=n[1],l=t%2===0?"monthlyPaymentsCellBlue":"monthlyPaymentsCell";return r.a.createElement(B,{key:a,cellType:l,value:i,suffix:K[a]})})))},J=function(e){var t=e.title;return r.a.createElement("th",null,t)},U={month:"Month",repayment:"Repayment",interestGrossAmount:"Interest Gross",interestNetAmount:"Interest Net",interestPercentage:"Interest",principal:"Principal",totalGross:"Gross Payment",totalNet:"Net Payment"},X=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.monthlyPayments.payments;return e.length>0&&r.a.createElement(P,null,r.a.createElement(M,null,r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(e[0]).map((function(e,t){return r.a.createElement(J,{key:t,title:U[e]})})))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement(q,{index:e.month,key:e.month,payment:e})})))))}}]),t}(a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.message;return r.a.createElement("div",{style:{textAlign:"center",width:"600px",marginTop:"100px"}},r.a.createElement("h3",{style:{color:"red"}},e))}}]),t}(a.Component);function Q(){var e=Object(f.a)(["\n  align-items: center;\n  display: flex;\n  height: 640px;\n  justify-content: center;\n  width: 100%;\n"]);return Q=function(){return e},e}function W(){var e=Object(f.a)(["\n  flex-shrink: 0;\n  flex-grow: 0;\n"]);return W=function(){return e},e}function Y(){var e=Object(f.a)(["\n  display: flex;\n"]);return Y=function(){return e},e}function Z(){var e=Object(f.a)(["\n  font-size: 18px;\n  margin-bottom: 30px;\n"]);return Z=function(){return e},e}function $(){var e=Object(f.a)(["\n  font-size: 24px;\n  margin-bottom: 10px;\n"]);return $=function(){return e},e}function _(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 50px;\n  max-width: 1168px;\n  padding: 30px;\n"]);return _=function(){return e},e}var ee=b.b.main(_()),te=b.b.h1($()),ne=b.b.h3(Z()),ae=b.b.div(Y()),re=b.b.div(W()),ie=b.b.div(Q());function le(){var e=Object(f.a)(['\n  * {\n    box-sizing: border-box;\n    font-family: "Montserrat", sans-serif;\n  }\n\n  body {\n    background-color: #f0f0f0;\n  }\n\n  body,\n  table,\n  tr,\n  td,\n  th,\n  html,\n  p,\n  label,\n  ul,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    margin: 0;\n    padding: 0;\n  }\n\n  hr {\n    margin: 30px 0;\n  }\n\n  ul {\n    list-style-type: none;\n  }\n\n  label {\n    display: block;\n  }\n\n  button {\n    appearance: none;\n    background: none;\n    border: 1px solid #333;\n    outline: none;\n    padding: 5px 12px;\n    font-size: 14px;\n    transition: all .3s ease-in-out;\n\n    &:hover {\n      background-color: #333;\n      color: #fff;\n      cursor: pointer;\n    }\n\n    &.delete {\n      width: 165px;\n      border: 1px solid #b20000;\n      color: #fff;\n      height: 36px;\n      background-color: #b20000;\n    }\n\n    &.delete:hover {\n      border: 1px solid #b20000;\n      color: #b20000;\n      background-color: #fff;\n    }\n  }\n\n  input {\n    border: 1px solid transparent;\n    font-size: 14px;\n    outline: none;\n    padding: 8px;\n    transition: all .3s ease-in-out;\n\n    &:focus {\n      border: 1px solid #333;\n    }\n  }\n\n  fieldset {\n    border: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    /* display: none; <- Crashes Chrome on hover */\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type=number] {\n    -moz-appearance:textfield; /* Firefox */\n  }\n\n  a {\n    text-decoration: none;\n  }\n']);return le=function(){return e},e}var oe=Object(b.a)(le()),se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={monthlyPayments:{payments:[],totalGrossInterest:0,totalNetInterest:0},showLoading:!1,errorMessage:null},n.onApiCall=function(){n.setState({monthlyPayments:{payments:[]},showLoading:!0,errorMessage:null})},n.setMonthlyPayments=function(e){var t=e.monthlyPayments;n.setState({monthlyPayments:t})},n.onLoadingFinish=function(){n.setState({showLoading:!1})},n.setErrorMessage=function(e){var t=e.errorMessage;n.setState({errorMessage:t})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showResult",value:function(){return this.state.showLoading?r.a.createElement(ie,null,r.a.createElement(p.a,{type:"MutatingDots",color:"#333",height:"100",width:100})):this.state.monthlyPayments.payments.length>0?r.a.createElement(X,{monthlyPayments:this.state.monthlyPayments}):this.state.errorMessage?r.a.createElement(H,{message:this.state.errorMessage}):void 0}},{key:"render",value:function(){return r.a.createElement(ee,null,r.a.createElement(oe,null),r.a.createElement(te,null,"Calculate your Linear Mortgage Monthly Payments"),r.a.createElement(ne,null,"Please fill in the form on the left and then press Calculate"),r.a.createElement(ae,null,r.a.createElement(re,null,r.a.createElement(L,{onComputedResult:this.setMonthlyPayments,onLoadingFinish:this.onLoadingFinish,onErrorMessage:this.setErrorMessage,onApiCall:this.onApiCall})),this.showResult()))}}]),t}(a.Component);Object(i.render)(r.a.createElement(se,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.737d3f39.chunk.js.map